#!/bin/bash

# Chemin du fichier CSV
fichier_csv="/home/marzaguina/Travail/Projet/data.csv"

# Fichier de résultat temporaire
fichier_resultat="/home/marzaguina/Travail/Projet/resultat.txt"

# Trier et afficher les 5 premières lignes triées
cut -d';' -f1,6 "$fichier_csv" | head -5 > "$fichier_resultat"

# Utilisation de Gnuplot pour tracer l'histogramme
gnuplot -persist <<-EOF
set datafile separator ';'
set terminal png
set output '/home/marzaguina/Travail/Projet/histogramme.png'  
set style fill solid 
set xlabel 'DRIVER NAME'
set ylabel 'ROUTE ID'
set boxwidth 0.5

plot '$fichier_resultat' using 1:xtic(2) with boxes notitle
EOF
